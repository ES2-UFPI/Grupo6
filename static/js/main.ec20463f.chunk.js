(this.webpackJsonpbrechonline=this.webpackJsonpbrechonline||[]).push([[0],{50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),c=n(27),s=n.n(c),i=n(9),o=n(11),u=n(37),l=n(13),d=n(5),j=function(){var e={userId:null,userInfo:{},cart:{products:[]},talkingToSeller:null};return{userReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN":return localStorage.setItem("userState",JSON.stringify(Object(d.a)(Object(d.a)({},t),n.data))),Object(d.a)(Object(d.a)({},t),n.data);case"SIGN_OUT":return localStorage.setItem("userState",JSON.stringify(Object(d.a)(Object(d.a)({},t),{},{userId:null,userInfo:{}}))),Object(d.a)(Object(d.a)({},t),{},{userId:null,userInfo:{}});default:return t}},cartReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return"ADD"===n.type?(localStorage.setItem("userState",JSON.stringify(Object(d.a)(Object(d.a)({},t),{},{cart:{products:t.cart.products.concat(n.data)}}))),Object(d.a)(Object(d.a)({},t),{},{cart:{products:t.cart.products.concat(n.data)}})):"REMOVE"===n.type?(localStorage.setItem("userState",JSON.stringify(Object(d.a)(Object(d.a)({},t),{},{cart:{products:t.cart.products.filter((function(e){return e!==n.data.itemId}))}}))),Object(d.a)(Object(d.a)({},t),{},{cart:{products:t.cart.products.filter((function(e){return e!==n.data.itemId}))}})):t},chatReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return"OPEN_CHAT"===n.type?Object(d.a)(Object(d.a)({},t),{},{talkingToSeller:n.data}):"CLOSE_CHAT"===n.type?Object(d.a)(Object(d.a)({},t),{},{talkingToSeller:null}):t},login:function(e,t){return{type:"LOGIN",data:{userId:e,userInfo:t}}},signOut:function(){return{type:"SIGN_OUT"}},addItem:function(e){return{type:"ADD",data:e}},removeItem:function(e){return{type:"REMOVE",data:{itemId:e}}},openChat:function(e,t){return{type:"OPEN_CHAT",data:{id:e,name:t}}},closeChat:function(){return{type:"CLOSE_CHAT"}}}}(),p=n(4),b=n.n(p),m=n(7),f=n(8),O=n(26),h=n(29),g=n(21),x=(n(73),n(39),function(){g.a.initializeApp({apiKey:"AIzaSyCSqM26AC12B6tImWrB0q0M2H5bjtk2WuY",authDomain:"brechonline-6119d.firebaseapp.com",projectId:"brechonline-6119d",storageBucket:"brechonline-6119d.appspot.com",databaseURL:"https://brechonline-6119d-default-rtdb.firebaseio.com/",messagingSenderId:"1014908798356",appId:"1:1014908798356:web:ceb80e1a5175ed49bb3b81",measurementId:"G-8GFNB7354C"});var e=g.a.firestore(),t=g.a.database(),n={products:["name","category","tags","pictures","price","publicationDate","description","creatorId"],users:["name","surname","nickname","profilePicture","email","password","cep","residenceNumber","complement","accountCreateDate","categoryClicks"],transactions:["date","valuePaid","status","localizationCode","rating","comment","wouldBuyAgain","productId","buyerId"],notifications:["type","content","isRead","userId"],coupons:["productId","userId","reduction"]},r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].toLowerCase()+t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")},a=function(e){return r("get",e.slice(0,e.length-1))},c=function(e,t){return r("set",e.slice(0,e.length-1),t)},s=function(e){return r("create",e.slice(0,e.length-1))},i=function(e){return r("delete",e.slice(0,e.length-1))},o=function(e){return r("get","all",e)},u=function(t){return function(){var n=Object(m.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.collection(t).doc(r).get();case 2:return n.abrupt("return",n.sent.data());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},l=function(t,n){return function(){var r=Object(m.a)(b.a.mark((function r(a,c){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.collection(t).doc(a).set(Object(h.a)({},n,c instanceof Date?g.a.firestore.Timestamp.fromDate(c):c),{merge:!0});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},j=function(t){return function(){return e.collection(t).doc().id}},p=function(t){return function(){var n=Object(m.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.collection(t).doc(r).delete();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},f=function(t){return Object(m.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.collection(t).get();case 2:return n.abrupt("return",n.sent.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})));case 3:case"end":return n.stop()}}),n)})))};return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},Object.fromEntries(Object.keys(n).map((function(e){return[a(e),u(e)]})))),Object.fromEntries(Object.keys(n).map((function(e){return n[e].map((function(t){return[c(e,t),l(e,t)]}))})).reduce((function(e,t){return[].concat(Object(O.a)(e),Object(O.a)(t))}),[]))),Object.fromEntries(Object.keys(n).map((function(e){return[s(e),j(e)]})))),Object.fromEntries(Object.keys(n).map((function(e){return[i(e),p(e)]})))),Object.fromEntries(Object.keys(n).map((function(e){return[o(e),f(e)]})))),{},{realTimeDatabase:t})}()),v=function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.createProduct();case 2:return n=e.sent,e.next=5,x.setProductName(n,t.name);case 5:return e.next=7,x.setProductCategory(n,t.category.toLowerCase());case 7:return e.next=9,x.setProductTags(n,t.tags);case 9:return e.next=11,x.setProductPictures(n,t.pictures);case 11:return e.next=13,x.setProductPrice(n,parseFloat(t.price));case 13:return e.next=15,x.setProductPublicationDate(n,new Date);case 15:return e.next=17,x.setProductDescription(n,t.description);case 17:return e.next=19,x.setProductCreatorId(n,t.creatorId);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getProduct(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(b.a.mark((function e(){var t,n,r,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];return e.next=3,x.getAllProducts();case 3:return e.abrupt("return",e.sent.filter((function(e){return n.every((function(t){return t(e)}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(m.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return"search"===e.type?function(t){return t.name.toLowerCase().includes(e.value)}:"price_range"===e.type?function(t){return t.price<=e.value[1]&&t.price>=e.value[0]}:"category"===e.type?function(t){return t.category===e.value}:function(e){return!0}})),e.next=3,n.apply(void 0,Object(O.a)(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((function(e){return e.creatorId===t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addNewProduct:e,getProductInfo:t,getProducts:function(){var e=Object(m.a)(b.a.mark((function e(){var t,n,a,c,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:null,n=s.length>1&&void 0!==s[1]?s[1]:null,a=s.length>2&&void 0!==s[2]?s[2]:null,c=[{type:"search",value:t},{type:"price_range",value:n},{type:"category",value:a}].filter((function(e){return null!==e.value})),e.next=6,r(c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProductsForUser:a}}(),N=(n(50),n(0)),w=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(f.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(f.a)(u,2),d=l[0],j=l[1],p=Object(r.useState)(""),O=Object(f.a)(p,2),h=O[0],g=O[1],x=Object(r.useState)(""),w=Object(f.a)(x,2),y=w[0],k=w[1],I=Object(r.useState)(""),P=Object(f.a)(I,2),C=P[0],S=P[1],E=Object(r.useState)(""),U=Object(f.a)(E,2),A=U[0],L=U[1],R=Object(r.useState)(""),T=Object(f.a)(R,2),F=T[0],M=T[1],D=Object(r.useState)([]),B=Object(f.a)(D,2),V=B[0],W=B[1],G=Object(r.useState)([]),J=Object(f.a)(G,2),$=J[0],_=J[1];Object(r.useEffect)((function(){0===d.length?S(""):isNaN(parseFloat(d))||parseFloat(d)<=0?S("Valor inv\xe1lido"):d.includes(",")?S("Use um ponto para separar a parte decimal"):S("")}),[d]),Object(r.useEffect)((function(){n.length>0&&k("")}),[n]),Object(r.useEffect)((function(){h.length>0&&L("")}),[h]);var q=Object(N.jsxs)("div",{className:"new-product-page-main-content",children:[Object(N.jsx)("h1",{children:"Cadastrar Produto"}),Object(N.jsxs)("form",{className:"new-product-page-form",children:[Object(N.jsxs)("div",{className:"pictures-section",children:[Object(N.jsx)("label",{htmlFor:"pictures",children:"Fa\xe7a o upload de fotos:"}),Object(N.jsx)("input",{name:"pictures",type:"file",multiple:!0,accept:"image/*",onChange:function(e){_(Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)})))}}),Object(N.jsx)("div",{className:"pictures-previews-section",children:$.map((function(e,t){return Object(N.jsx)("img",{src:e,alt:n},t)}))})]}),Object(N.jsxs)("div",{className:"product-name-section",children:[Object(N.jsx)("label",{htmlFor:"product-name",children:"Nome do Produto * :"}),Object(N.jsx)("input",{required:!0,type:"text",name:"product-name",maxLength:50,value:n,onChange:function(e){return a(e.target.value)}}),Object(N.jsx)("span",{className:"missing-name-span",children:y})]}),Object(N.jsxs)("div",{className:"description-section",children:[Object(N.jsx)("label",{htmlFor:"description",children:"Descri\xe7\xe3o:"}),Object(N.jsx)("textarea",{name:"description",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)("div",{className:"price-section",children:[Object(N.jsx)("label",{htmlFor:"price",children:"Valor (R$) * :"}),Object(N.jsx)("input",{type:"text",name:"price",maxLength:8,value:d,onChange:function(e){return j(e.target.value)}}),Object(N.jsx)("span",{className:"price-invalid-span",children:C})]}),Object(N.jsxs)("div",{className:"categories-section",children:[Object(N.jsx)("label",{htmlFor:"category",children:"Categorias * :"}),Object(N.jsxs)("select",{name:"category",value:h,onChange:function(e){return g(e.target.value)},children:[Object(N.jsx)("option",{value:"",children:""}),Object(N.jsx)("option",{value:"Vestu\xe1rio",children:"Vestu\xe1rio"}),Object(N.jsx)("option",{value:"Eletr\xf4nicos",children:"Eletr\xf4nicos"}),Object(N.jsx)("option",{value:"Livros",children:"Livros"}),Object(N.jsx)("option",{value:"Eletrodom\xe9sticos",children:"Eletrodom\xe9sticos"}),Object(N.jsx)("option",{value:"Beleza",children:"Beleza"}),Object(N.jsx)("option",{value:"Esporte",children:"Esporte"}),Object(N.jsx)("option",{value:"Jogos",children:"Jogos"})]}),Object(N.jsx)("span",{className:"missing-category-span",children:A})]}),Object(N.jsxs)("div",{className:"tags-section",children:[Object(N.jsx)("label",{htmlFor:"tags",children:"Tags:"}),Object(N.jsxs)("div",{className:"tags-editor",children:[Object(N.jsx)("span",{className:"tags-span",children:V.map((function(e,t){return Object(N.jsx)("span",{className:"tag-element",children:e},t)}))}),Object(N.jsx)("input",{name:"tags",type:"text",value:F,onChange:function(e){var t=e.target.value;if(","!==t[t.length-1]||V.includes(t.slice(0,t.length-1)))M(t);else{var n=t.startsWith("#")?t.slice(0,t.length-1):"#"+t.slice(0,t.length-1);W((function(e){return e.concat(n)})),M("")}},onKeyDown:function(e){if(console.log(e.key,F.length),"Enter"!==e.key||V.includes(F))"Backspace"===e.key&&0===F.length&&W((function(e){return e.slice(0,e.length-1)}));else{e.preventDefault();var t=F.startsWith("#")?F:"#"+F;W((function(e){return e.concat(t)})),M("")}}}),Object(N.jsx)("div",{className:"tags-suggestions-area"})]})]}),Object(N.jsx)("span",{className:"required-asterisk-span",children:"* Obrigat\xf3rio"}),Object(N.jsx)("input",{type:"submit",value:"Cadastrar",className:"submit-button",onClick:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n.length>0&&d.length>0&&h.length>0&&0===y.length&&0===C.length&&0===A.length)){e.next=4;break}return e.next=4,v.addNewProduct({name:n,description:i,price:d,category:h,tags:V.map((function(e){return e.slice(1)})),pictures:$});case 4:0===n.length?k("Digite um nome para o produto"):k(""),0===d.length&&S("Digite um valor para o produto"),0===h.length?L("Selecione uma categoria"):L("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})]});return Object(N.jsx)("div",{className:"new-product-page",children:q})},y=function(e){return Object.fromEntries(Object.keys(e).map((function(t){return e[t]instanceof g.a.firestore.Timestamp?[t,e[t].toDate()]:[t,e[t]]})))},k=function(e){return e.map(y).sort((function(e,t){return t.publicationDate-e.publicationDate}))},I=function(e){return Object(d.a)(Object(d.a)({},e),{},{picture:e.pictures.length>0?e.pictures[0]:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/832px-No-Image-Placeholder.svg.png"})},P=(n(52),n(53),function(e){return Object(N.jsxs)(i.b,{to:"/product/".concat(e.id),className:"product-preview",children:[Object(N.jsx)("div",{className:"top-section",children:Object(N.jsx)("img",{src:e.picture,alt:e.name})}),Object(N.jsxs)("div",{className:"info-section",children:[Object(N.jsx)("span",{className:"product-name-span",children:e.name}),Object(N.jsx)("span",{className:"product-price-span",children:"R$ "+e.price.toFixed(2).toString()})]}),Object(N.jsx)("div",{className:"bottom-section",children:e.tags.map((function(e,t){return Object(N.jsx)("span",{className:"tag-span",children:e},t)}))})]})}),C=function(){var e=Object(r.useMemo)((function(){return["tech","livros","cosmeticos"]}),[]),t=Object(r.useState)(e.map((function(e){return[]}))),n=Object(f.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,Promise.all(e.map(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getProducts(null,null,t);case 2:return n=e.sent,e.abrupt("return",k(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(N.jsx)("div",{className:"home-page",children:e.map((function(e,t){return Object(N.jsxs)("div",{className:"home-page-category-section",children:[Object(N.jsx)("h2",{children:e}),Object(N.jsx)("div",{className:"product-grid",children:a[t].filter((function(e,t){return t<32})).map((function(e,t){return Object(r.createElement)(P,Object(d.a)(Object(d.a)({},I(e)),{},{key:t}))}))})]},t)}))})},S=(n(55),function(){var e=Object(N.jsxs)("div",{className:"product-page-mockup-main-content",children:[Object(N.jsx)("head",{children:Object(N.jsx)("link",{rel:"stylesheet",type:"text/css",href:"//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"})}),Object(N.jsx)("body",{children:Object(N.jsx)("main",{className:"column-100 body",children:Object(N.jsxs)("div",{className:"header2",children:[Object(N.jsx)("div",{className:"title",children:Object(N.jsx)("h1",{children:"Nome do Produto"})}),Object(N.jsxs)("div",{className:"product-first-block",children:[Object(N.jsx)("img",{className:"seller-product",src:"https://i.imgur.com/Or3qkoW.jpeg"}),Object(N.jsx)("h2",{children:"DESCRI\xc7\xc3O:"}),Object(N.jsx)("p",{className:"description-body",children:"God of War II \xe9 um jogo eletr\xf4nico de a\xe7\xe3o-aventura e hack and slash desenvolvido pela Santa Monica Studio e publicado pela Sony Computer Entertainment (SCE). Lan\xe7ado pela primeira vez em 13 de mar\xe7o de 2007 para PlayStation 2, \xe9 o segundo jogo da franquia God of War e o sexto em ordem cronol\xf3gica, sendo a continua\xe7\xe3o de God of War (2005). O jogo \xe9 vagamente baseado na mitologia grega e ambientado no interior do Cear\xe1 , com a vingan\xe7a sendo o tema central. O personagem do jogador \xe9 o protagonista Crate\xfas, o novo deus da rapadura que tomou o lugar de Zezinho Cana Seca depois de ter o matado. Crate\xfas \xe9 tra\xeddo por JooJ, o rei das Canas de A\xe7ucar, que tira dele sua propriedade e o mata. Lentamente arrastado para o submundo do crime, ele \xe9 salvo pelo Proerd, que o instrui a encontrar a Pol\xedcia Militar do Cear\xe1, pois elas possuem o poder para fazer Crate\xfas voltar no tempo, impedir a trai\xe7\xe3o de JooJ e consequentemente sua morte"}),Object(N.jsxs)("div",{className:"seller-box",children:[Object(N.jsx)("img",{className:"seller-profile",src:"https://i.imgur.com/6wn6pV5.png"}),Object(N.jsx)("h3",{children:"Nome do Vendedor"}),Object(N.jsx)("h3",{children:"Estado - UF:"}),Object(N.jsx)("h3",{children:"Cidade:"}),Object(N.jsx)("h3",{children:"Avalia\xe7\xe3o:"}),Object(N.jsxs)("div",{className:"message",children:[Object(N.jsx)("img",{className:"send-message",src:"https://i.imgur.com/ljsriLj.png"}),Object(N.jsx)("p",{children:"Envie uma menssagem ao vendedor"})]}),Object(N.jsx)("div",{className:"box-message",children:Object(N.jsx)("button",{onClick:"http://localhost:3000/product/add"})})]}),Object(N.jsxs)("div",{className:"value",children:[Object(N.jsx)("h1",{children:"Valor:"}),Object(N.jsx)("div",{className:"cart",children:Object(N.jsx)("a",{href:"http://localhost:3000/shoppingCart",children:"Adicionar ao Carrinho"})})]})]})]})})})]});return Object(N.jsx)("div",{className:"product-page-mockup",children:e})}),E=(n(56),function(){var e=Object(l.c)((function(e){return e.cart.cart.products})),t=Object(l.b)(),n=Object(r.useState)(Array(5).fill({id:"123",name:"God of War II",picture:"https://i.imgur.com/Or3qkoW.jpeg",price:400.5,seller:"Eduardo Gomes"})),a=Object(f.a)(n,2),c=a[0],s=a[1];Object(r.useEffect)((function(){s(e)}),[e]);var o=Object(N.jsxs)("div",{className:"shopping-cart-main-content",children:[Object(N.jsx)("div",{className:"page-title",children:Object(N.jsx)("h1",{children:"Carrinho de Compras"})}),Object(N.jsx)("div",{className:"items-list",children:c.map((function(e,n){return Object(N.jsx)(i.b,{className:"item-link",to:"/product/".concat(e.id),children:Object(N.jsxs)("div",{className:"cart-item",children:[Object(N.jsxs)("div",{className:"left-section",children:[Object(N.jsx)("img",{src:e.picture,alt:e.name}),Object(N.jsxs)("div",{className:"item-info",children:[Object(N.jsx)("h2",{className:"item-name",children:e.name}),Object(N.jsxs)("div",{className:"item-price-section",children:[Object(N.jsx)("label",{htmlFor:"item-price",children:"Valor:"}),Object(N.jsx)("span",{className:"item-price",children:"R$ "+e.price.toString()})]}),Object(N.jsxs)("div",{className:"item-seller-section",children:[Object(N.jsx)("label",{htmlFor:"item-seller",children:"Vendedor:"}),Object(N.jsx)("span",{className:"item-seller",children:e.seller})]})]})]}),Object(N.jsx)("div",{className:"right-section",children:Object(N.jsx)("button",{className:"remove-item-button",onClick:function(n){n.stopPropagation(),t(j.removeItem(e.id))}})})]})},n)}))}),Object(N.jsxs)("div",{className:"subtotal",children:[Object(N.jsxs)("div",{className:"subtotal-value-section",children:[Object(N.jsx)("h2",{children:"Subtotal:"}),Object(N.jsx)("span",{className:"subtotal-value",children:"R$ "+c.reduce((function(e,t){return e+t.price}),0).toFixed(2).toString()})]}),Object(N.jsx)("button",{className:"confirm-button",children:"Confirmar"})]})]});return Object(N.jsx)("div",{className:"cart-page",children:o})}),U=n.p+"static/media/lupa.c6c25308.png",A=(n(57),function(){var e=Object(r.useRef)(null),t=Object(o.f)(),n=Object(r.useState)(""),a=Object(f.a)(n,2),c=a[0],s=a[1],u=Object(r.useState)([]),l=Object(f.a)(u,2),d=l[0],j=l[1],p=Object(r.useState)(!1),O=Object(f.a)(p,2),h=O[0],g=O[1];Object(r.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.length){e.next=4;break}j([]),e.next=11;break;case 4:return g(!0),e.t0=j,e.next=8,v.getProducts(c);case 8:e.t1=e.sent,(0,e.t0)(e.t1),g(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var x=Object(o.g)();return Object(r.useEffect)((function(){s("")}),[x]),Object(r.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&j([])}return document.addEventListener("mousedown",t,{capture:!0}),function(){document.removeEventListener("mousedown",t,{capture:!0})}}),[]),Object(N.jsxs)("div",{className:"top-search-bar",ref:e,children:[Object(N.jsxs)("div",{className:"input-and-button-section",onKeyDown:function(e){"Enter"===e.key&&c.length>0&&t.push("/product/search?search_term=".concat(c))},children:[Object(N.jsx)("input",{type:"text",value:c,onChange:function(e){s(e.target.value)}}),Object(N.jsx)("a",{className:"search-anchor",href:"/product/search?search_term=".concat(c,"&page=1"),children:Object(N.jsx)("img",{src:U,alt:"search"})})]}),Object(N.jsx)("div",{className:"results-previews",children:h?Object(N.jsxs)("div",{className:"loading-spinner",children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]}):d.filter((function(e,t){return t<=3})).map((function(e,t){return console.log(e),Object(N.jsxs)(i.b,{className:"result-preview",to:"/product/".concat(e.id),children:[Object(N.jsx)("img",{src:e.pictures.length>0?e.pictures[0]:"",alt:e.name}),Object(N.jsxs)("div",{className:"right-section",children:[Object(N.jsx)("span",{className:"product-name-span",children:e.name}),Object(N.jsx)("span",{className:"product-price-span",children:"R$ "+e.price.toFixed(2).toString()})]})]},t)}))})]})}),L=(n(58),function(e){return Object(N.jsxs)("div",{className:e.isSentByLoggedInUser?"message-outer-container sent":"message-outer-container received",children:[Object(N.jsx)("span",{className:"date-span",children:"".concat(e.date.getDate(),"/").concat(e.date.getMonth()+1,"/").concat(e.date.getFullYear().toString().slice(2)," ").concat(e.date.getHours(),":").concat(e.date.getMinutes()>9?e.date.getMinutes():"0".concat(e.date.getMinutes()))}),Object(N.jsx)("div",{className:"message-inner-container",children:e.content}),e.isSentByLoggedInUser?Object(N.jsx)("button",{className:"delete-message-button",onClick:function(){return e.delete()},children:"Deletar"}):null]})}),R=(n(59),function(e){var t=Object(r.useState)(""),n=Object(f.a)(t,2),a=n[0],c=n[1];return Object(N.jsxs)("div",{className:"chat",children:[Object(N.jsx)("div",{className:"message-log",children:e.messages.map((function(t,n){return Object(N.jsx)(L,{content:t.content,date:t.date,isSentByLoggedInUser:t.isSentByLoggedInUser,delete:function(){return e.deleteMessage(t.id)}},n)}))}),Object(N.jsxs)("div",{className:"composing-area",children:[Object(N.jsx)("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&(e.sendMessage(a),c(""))}}),Object(N.jsx)("button",{className:"send-button fa fa-paper-plane",onClick:function(){e.sendMessage(a),c("")}})]})]})}),T=function(){var e=x.realTimeDatabase,t=["messages"],n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].toLowerCase()+t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")},r=function(e){return n("listen","to",e)},a=function(e){return n("push","to",e)},c=function(e){return n("update",e.slice(e.length-1))},s=function(e){return n("delete","from",e)},i=function(t){var n=e.ref(t);return function(e){n.on("value",(function(t){e(t.val())}))}},o=function(t){var n=e.ref(t);return function(e){var t=n.push();return t.set(Object.fromEntries(Object.keys(e).map((function(t){return[t,e[t]instanceof Date?g.a.firestore.Timestamp.fromDate(e[t]):e[t]]})))),t.key}},u=function(t){return function(n,r){e.ref(t+"/"+n).set(r)}},l=function(t){return function(n){e.ref(t+"/"+n).remove()}};return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},Object.fromEntries(t.map((function(e){return[r(e),i(e)]})))),Object.fromEntries(t.map((function(e){return[a(e),o(e)]})))),Object.fromEntries(t.map((function(e){return[c(e),u(e)]})))),Object.fromEntries(t.map((function(e){return[s(e),l(e)]}))))}(),F={getMessagesForUser:function(e,t){T.listenToMessages((function(n){t(Object.fromEntries(Object.keys(n).filter((function(t){return n[t].sender===e||n[t].receiver===e})).map((function(e){return[e,n[e]]}))))}))},sendMessage:function(e,t,n){return T.pushToMessages({sender:e,receiver:t,content:n,date:new Date,isRead:!1})},deleteMessage:function(e){T.deleteFromMessages(e)}},M=function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getTransaction(t);case 2:return n=e.sent,e.next=5,v.getProductInfo(n.productId);case 5:return e.abrupt("return",e.sent.creatorId);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{rateProduct:function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.setTransactionRating(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),answerWouldBuyFromSellerAgain:function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.setTransactionWouldBuyAgain(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserTransactions:function(){var t=Object(m.a)(b.a.mark((function t(n){var r,a=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],t.t0=Promise,t.next=4,x.getAllTransactions();case 4:return t.t1=t.sent.map(function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=d.a,t.t1=Object(d.a)({},n),t.t2={},r){t.next=9;break}return t.next=6,e(n.id);case 6:t.t3=t.sent,t.next=10;break;case 9:t.t3=void 0;case 10:return t.t4=t.t3,t.t5={sellerId:t.t4},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t5));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=7,t.t0.all.call(t.t0,t.t1);case 7:return t.abrupt("return",t.sent.filter((function(e){return e.sellerId===n||e.buyerId===n})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),generateTransaction:function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.createTransaction(),e.next=3,x.setTransactionDate(n,new Date);case 3:return e.next=5,x.setTransactionValuePaid(n,t.valuePaid);case 5:return e.next=7,x.setTransactionStatus(n,t.status);case 7:return e.next=9,x.setTransactionRating(n,t.rating);case 9:return e.next=11,x.setTransactionComment(n,t.comment);case 11:return e.next=13,x.setTransactionWouldBuyAgain(n,t.wouldBuyAgain);case 13:return e.next=15,x.setTransactionProductId(n,t.productId);case 15:return e.next=17,x.setTransactionSellerId(n,t.sellerId);case 17:return e.next=19,x.setTransactionBuyerId(n,t.buyerId);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}(),D=function(){function e(e){return["0","1","2","3","4","5","6","7","8","9"].any((function(t){return e.includes(t)}))}function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}return{addPhoto:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.setUserProfilePicture(t.id,t.photo);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateData:function(){var n=Object(m.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e(r.name)&&!e(r.name)){n.next=2;break}throw Error("H\xe1 campos que n\xe3o permitem n\xfameros com valores num\xe9ricos.");case 2:if(!t(r.cep)){n.next=4;break}throw Error("O campo deve ser um valor num\xe9rico.");case 4:if(""===r.name){n.next=7;break}return n.next=7,x.setUserName(r.id,r.name);case 7:if(""===r.surname){n.next=10;break}return n.next=10,x.setUserSurname(r.id,r.surname);case 10:if(""===r.nick){n.next=13;break}return n.next=13,x.setUserNickname(r.id,r.nick);case 13:if(""===r.photo){n.next=16;break}return n.next=16,x.setUserProfilePicture(r.id,r.photo);case 16:if(""===r.cep){n.next=19;break}return n.next=19,x.setUserCep(r.id,r.cep);case 19:if(""===r.address){n.next=22;break}return n.next=22,x.setUserResidenceNumber(r.id,r.address);case 22:if(""===r.complement){n.next=25;break}return n.next=25,x.setUserComplement(r.id,r.complement);case 25:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getUsers:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAllUsers();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]&&a[1],e.next=3,x.getUser(t);case 3:return n=e.sent,e.next=6,M.getUserTransactions(t);case 6:return r=e.sent.filter((function(e){return e.sellerId===t})),e.abrupt("return",Object(d.a)(Object(d.a)({},n),{},{averageRating:r.reduce((function(e,t){return e+t.rating/r.length}),0),percentageWouldBarterAgain:0===r.length?0:r.filter((function(e){return e.wouldBuyAgain})).length/r.length,numberOfSales:r.length}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addCategory:function(){var e=Object(m.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getUserCategoryClicks(t);case 2:return(r=e.sent).push(n),e.next=6,x.setUserCategoryClicks(t,r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteAccount:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.deleteUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createAccount:function(){var n=Object(m.a)(b.a.mark((function n(r){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==r.name&&""!==r.surname&&""!==r.email&&""!==r.password){n.next=2;break}throw Error("Preenchimento do campo \xe9 obrigat\xf3rio.");case 2:if(!e(r.name)&&!e(r.name)){n.next=4;break}throw Error("H\xe1 campos que n\xe3o permitem n\xfameros com valores num\xe9ricos.");case 4:if(!t(r.cep)){n.next=6;break}throw Error("O campo deve ser um valor num\xe9rico.");case 6:return n.next=8,x.createUser();case 8:return a=n.sent,n.next=11,x.setUserName(a,r.name);case 11:return n.next=13,x.setUserSurname(a,r.surname);case 13:return n.next=15,x.setUserNickname(a,r.nick);case 15:return n.next=17,x.setUserProfilePicture(a,r.photo);case 17:return n.next=19,x.setUserCep(a,r.cep);case 19:return n.next=21,x.setUserResidenceNumber(a,r.addres);case 21:return n.next=23,x.setUserComplement(a,r.complement);case 23:return n.next=25,x.setUserEmail(a,r.email);case 25:return n.next=27,x.setUserPassword(a,r.password);case 27:return n.next=29,x.setUserAccountCreateDate(a,r.date);case 29:return n.next=31,x.setUserCategoryClicks(a,[]);case 31:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}(),B=(n(60),{createCoupon:function(){var e=Object(m.a)(b.a.mark((function e(t,n,r){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.createCoupon();case 2:return a=e.sent,e.next=5,v.getProductInfo(t);case 5:return c=e.sent.price,e.next=8,x.setCouponProductId(a,t);case 8:return e.next=10,x.setCouponUserId(a,r);case 10:return e.next=12,x.setCouponReduction(a,(n-c)/c);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),findCoupon:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getCoupon(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}),V=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),a=Object(r.useState)(null),c=Object(f.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)([]),u=Object(f.a)(o,2),l=u[0],j=u[1],p=Object(r.useState)([]),O=Object(f.a)(p,2),h=O[0],g=O[1],x=Object(r.useState)(!1),w=Object(f.a)(x,2),y=w[0],k=w[1],I=Object(r.useState)(0),P=Object(f.a)(I,2),C=P[0],S=P[1],E=Object(r.useState)(""),U=Object(f.a)(E,2),A=U[0],L=U[1];Object(r.useEffect)((function(){window.addEventListener("click",(function(e){void 0===n.current||null===n.current||n.current.contains(e.target)||k(!1)}))}),[]),Object(r.useEffect)((function(){var t=function(){var t=Object(m.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(n).map((function(e){return{id:e,sender:n[e].sender,receiver:n[e].receiver,content:n[e].content,date:new Date(1e3*n[e].date.seconds)}})),a=r.sort((function(e,t){return e.date-t.date})).reduce((function(t,n){return n.sender!==e.loggedInUser&&0===t.filter((function(e){return e.id===n.sender})).length?t.concat({id:n.sender,messages:r.filter((function(e){return e.sender===n.sender||e.receiver===n.sender})).sort((function(e,t){return e.date-t.date})).map((function(t){return{id:t.id,content:t.content,date:t.date,isSentByLoggedInUser:t.receiver!==e.loggedInUser}}))}):n.receiver!==e.loggedInUser&&0===t.filter((function(e){return e.id===n.receiver})).length?t.concat({id:n.receiver,messages:r.filter((function(e){return e.receiver===n.receiver||e.sender===n.receiver})).sort((function(e,t){return e.date-t.date})).map((function(t){return{id:t.id,content:t.content,date:t.date,isSentByLoggedInUser:t.receiver!==e.loggedInUser}}))}):t}),[]),t.t0=j,t.next=5,Promise.all(a.map(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getUser(t.id);case 2:return n=e.sent,e.abrupt("return",Object(d.a)(Object(d.a)({},t),{},{name:n.name+" "+n.surname,profilePicture:n.profilePicture}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();null!==e.loggedInUser&&F.getMessagesForUser(e.loggedInUser,t)}),[e.loggedInUser]),Object(r.useEffect)((function(){(function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=g,t.next=3,v.getProductsForUser(e.loggedInUser);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.loggedInUser]),Object(r.useEffect)((function(){null===e.newChat||l.map((function(e){return e.id})).includes(e.newChat.id)?null!==e.newChat?i(l.filter((function(t){return t.id===e.newChat.id}))[0]):i((function(e){return null!==e?l.filter((function(t){return t.id===e.id}))[0]:e})):i({id:e.newChat.id,name:e.newChat.name,messages:[]})}),[l,e.newChat]);var T=function(){var t=Object(m.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(A.length>0&&C>0)){t.next=6;break}return t.next=3,B.createCoupon(A,C,s.id);case 3:n=t.sent,F.sendMessage(e.loggedInUser,s.id,n),k(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=Object(N.jsx)("div",{className:"chat-navigation",children:l.map((function(e,t){return Object(N.jsxs)("div",{className:"chat-preview",onClick:function(){return i(e)},children:[Object(N.jsx)("div",{className:"chat-preview-image-container",children:Object(N.jsx)("img",{src:e.profilePicture,alt:e.name})}),Object(N.jsx)("span",{className:"user-name-span",children:e.name})]},t)}))}),V=Object(N.jsxs)("div",{className:y?"generate-coupon-modal":"generate-coupon-modal hidden",children:[Object(N.jsx)("span",{children:"Gerar cupom"}),Object(N.jsxs)("div",{className:"value-row",children:[Object(N.jsx)("label",{htmlFor:"coupon-value",children:"Novo pre\xe7o: "}),Object(N.jsx)("input",{type:"number",name:"coupon-value",value:C,onChange:function(e){return S(e.target.value)}})]}),Object(N.jsxs)("div",{className:"product-row",children:[Object(N.jsx)("label",{htmlFor:"product",children:"Produto: "}),Object(N.jsxs)("select",{value:A,onChange:function(e){return L(e.target.value)},children:[Object(N.jsx)("option",{value:""}),h.map((function(e,t){return Object(N.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(N.jsx)("button",{className:"generate-new-coupon-button",onClick:T,children:"Gerar e enviar"})]});return Object(N.jsx)("div",{className:e.isOpen||e.newChat?"message-tab-icon fa fa-envelope":"message-tab-icon fa fa-envelope hidden",onClick:function(n){t.current.contains(n.target)||e.toggleIsOpen()},children:Object(N.jsxs)("div",{className:"overflow-content",ref:t,children:[Object(N.jsxs)("div",{className:"message-tab-header",children:[null!==s&&void 0!==s?Object(N.jsx)("button",{className:"back-button fa fa-arrow-left",onClick:function(){return i(null)}}):null,Object(N.jsx)("span",{children:null===s||void 0===s?"Mensagens":s.name}),null!==s&&void 0!==s?Object(N.jsx)("span",{ref:n,className:"coupon-span fa fa-money",onClick:function(){return k(!0)},children:V}):null]}),null===s||void 0===s?M:Object(N.jsx)(R,{messages:s.messages,sendMessage:function(t){return F.sendMessage(e.loggedInUser,s.id,t)},deleteMessage:function(e){return F.deleteMessage(e)}})]})})},W=(n(61),function(){var e=Object(l.b)(),t=Object(r.useRef)(),n=Object(r.useState)(!1),a=Object(f.a)(n,2),c=a[0],s=a[1],o=Object(l.c)((function(e){return e.cart.cart.products.length})),u=Object(l.c)((function(e){return e.user.userId})),d=Object(l.c)((function(e){return e.user.userInfo})),p=Object(l.c)((function(e){return e.chat.talkingToSeller}));return Object(r.useEffect)((function(){window.addEventListener("click",(function(n){null===t.current||t.current.contains(n.target)||(s(!1),e(j.closeChat()))}),{capture:!0})}),[e]),Object(r.useEffect)((function(){e(j.login("LrQkwykN4dPWjm7VkNIB",{name:"Usu\xe1rio 1",surname:"Sobrenome 1",profilePicture:"https://cdn.pixabay.com/photo/2014/04/13/20/49/cat-323262__340.jpg"}))}),[e]),Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)(i.b,{to:"/",className:"logo",children:Object(N.jsx)("img",{src:"https://i.imgur.com/cXCcFKH.jpg",alt:"Brechonline"})}),Object(N.jsx)("div",{className:"menu",children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product",children:"HOME"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/vestuario",children:"VESTU\xc1RIO"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/eletronicos",children:"ELETR\xd4NICOS"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/livros",children:"LIVROS"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/eletrodomesticos",children:"ELETRODOM\xc9STICOS"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/beleza",children:"COSM\xc9TICO"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/esportivo",children:"ESPORTIVO"})}),Object(N.jsx)("li",{children:Object(N.jsx)(i.b,{to:"/product/category/esportivo",children:"JOGOS"})})]})}),Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"header-tabs",children:[Object(N.jsxs)("div",{className:"notification",children:[Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(i.b,{to:"/notifications",children:Object(N.jsx)("img",{src:"https://i.imgur.com/pAPOaav.png",alt:"Notification Icon"})})}),Object(N.jsxs)("div",{className:"notification-dropdown",children:[Object(N.jsx)("a",{href:"/",children:" Este \xe9 um exemplo de notifica\xe7\xe3o ! "}),Object(N.jsx)("a",{href:"/",children:" Voc\xea tem uma nova mensagem de Fulano. "}),Object(N.jsxs)("a",{href:"/",children:[" ","O seu produto est\xe1 a caminho, acompanhe com o c\xf3digo XSAI-ASXD-ASJD"]}),Object(N.jsx)(i.b,{to:"/notifications",children:" Mais notifica\xe7\xf5es (3) "})]})]}),Object(N.jsx)("div",{className:"messages-tab-container",ref:t,children:Object(N.jsx)(V,{newChat:p,loggedInUser:u,isOpen:c,toggleIsOpen:function(){s((function(e){return!e})),null!==p&&e(j.closeChat())}})})]}),Object(N.jsx)("div",{className:"dropdown",children:Object(N.jsxs)("div",{className:"profile",children:[Object(N.jsx)("ul",{children:Object(N.jsx)("li",{children:Object(N.jsx)("a",{href:"/",children:Object(N.jsx)("img",{src:d.profilePicture,alt:d.name})})})}),Object(N.jsxs)("div",{className:"profile-menu",children:[Object(N.jsx)("a",{href:"/",children:" Gerenciar Perfil "}),Object(N.jsx)(i.b,{to:"/shoppingCart",children:"Carrinho (".concat(o,")")}),Object(N.jsx)(i.b,{to:"/history",children:" Hist\xf3rico "}),Object(N.jsx)(i.b,{to:"/product/add",children:" Cadastrar Produto "}),Object(N.jsx)("a",{href:"/",children:" Sair "})]})]})})]})}),G=(n(62),function(){return Object(N.jsx)("div",{className:"foot-bar",children:Object(N.jsx)("img",{alt:"brechonline",src:"https://i.imgur.com/cXCcFKH.jpg"})})}),J=(n(63),n(64),function(e){return Object(N.jsxs)("div",{className:"filters-bar",children:[Object(N.jsx)("label",{children:"Pre\xe7o"}),Object(N.jsx)(i.b,{className:"price-range-link",to:e.updateProductsLink+"from=0&to=100",children:"R$ 0.00 \u2014 R$ 100.00"}),Object(N.jsx)(i.b,{className:"price-range-link",to:e.updateProductsLink+"from=100&to=500",children:"R$ 100.00 \u2014 R$ 500.00"}),Object(N.jsx)(i.b,{className:"price-range-link",to:e.updateProductsLink+"from=500&to=1000",children:"R$ 500.00 \u2014 R$ 1000.00"}),Object(N.jsx)(i.b,{className:"price-range-link",to:e.updateProductsLink+"from=1000&to=5000",children:"R$ 1000.00 \u2014 R$ 5000.00"}),Object(N.jsx)(i.b,{className:"price-range-link",to:e.updateProductsLink+"from=5000",children:"R$ 5000.00 \u2014"})]})}),$=(n(65),function(e){return Object(N.jsxs)("div",{className:"page-navigation",children:[Object(N.jsx)(i.b,{to:e.newPageLink+(e.currentPage-1),className:1===e.currentPage?"page-navigation-link disabled":"page-navigation-link",children:"\xab"}),Array(e.numberOfPages).fill(0).map((function(t,n){return Object(N.jsx)(i.b,{to:e.newPageLink+(n+1),className:e.currentPage===n+1?"page-navigation-link disabled current-page":"page-navigation-link",children:n+1})})),Object(N.jsx)(i.b,{to:e.newPageLink+(e.currentPage+1),className:e.currentPage===e.numberOfPages?"page-navigation-link disabled":"page-navigation-link",children:"\xbb"})]})}),_=function(e){return{currentPage:Number.parseInt(e.currentPage),numberOfPages:Number.parseInt(e.numberOfPages),newPageLink:e.newPageLink}},q=function(e){var t=e.match.params.category,n=new URLSearchParams(Object(o.g)().search),a=null!==n.get("from")?Number.parseInt(n.get("from")):0,c=null!==n.get("to")?Number.parseInt(n.get("to")):Number.MAX_SAFE_INTEGER,s=null!==n.get("page")?n.get("page"):"1",i=Object(r.useState)([]),u=Object(f.a)(i,2),l=u[0],j=u[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,v.getProducts(null,[a,c],t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,c,a]),Object(N.jsxs)("div",{className:"category-page",children:[Object(N.jsx)(J,{updateProductsLink:"/product/category/".concat(t,"?")}),Object(N.jsxs)("div",{className:"product-grid-container",children:[Object(N.jsx)("div",{className:"product-grid",children:l.filter((function(e,t){return t>=28*(Number.parseInt(s)-1)&&t<=28*Number.parseInt(s)-1})).map((function(e,t){return Object(r.createElement)(P,Object(d.a)(Object(d.a)({},I(e)),{},{key:t}))}))}),l.length>28?Object(N.jsx)($,Object(d.a)({},_({currentPage:s,numberOfPages:Math.ceil(l.length/28),newPageLink:"/product/category/".concat(t,"?from=").concat(a,"&to=").concat(c,"&page=")}))):null]})]})},z=(n(66),function(e){var t=e.match.params.productId,n=Object(r.useState)(!1),a=Object(f.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)({}),o=Object(f.a)(i,2),u=o[0],p=o[1],O=Object(r.useState)({}),h=Object(f.a)(O,2),g=h[0],x=h[1],w=Object(r.useState)(""),y=Object(f.a)(w,2),k=y[0],I=y[1],P=Object(r.useState)(null),C=Object(f.a)(P,2),S=C[0],E=C[1],U=Object(l.c)((function(e){return e.cart.cart.products.some((function(e){return e.id===t}))})),A=Object(l.c)((function(e){return e.user.id})),L=Object(l.b)();Object(r.useEffect)((function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.a,e.t1=d.a,e.t2={},e.next=5,v.getProductInfo(t);case 5:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6=D,e.next=11,v.getProductInfo(t);case 11:return e.t7=e.sent.creatorId,e.next=14,e.t6.getUser.call(e.t6,e.t7);case 14:e.t8=e.sent.name,e.t9={sellerName:e.t8},n=(0,e.t0)(e.t4,e.t5,e.t9),p(n);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u.creatorId){e.next=7;break}return e.t0=x,e.next=4,D.getUser(u.creatorId);case 4:e.t1=e.sent,(0,e.t0)(e.t1),s(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),n()}),[t,u.creatorId]),Object(r.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k.length>0)){e.next=5;break}return e.next=3,B.findCoupon(k);case 3:n=e.sent,E(null!==n&&void 0!==n&&n.userId===A&&n.productId===t?n:null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[k,A,t]);var R=null===S?u.price:u.price+u.price*S.reduction;return c?Object(N.jsxs)("div",{className:"product-page",children:[Object(N.jsxs)("div",{className:"left-section",children:[Object(N.jsx)("img",{src:u.pictures.length>0?u.pictures[0]:"",alt:u.name}),Object(N.jsxs)("div",{className:"product-details",children:[Object(N.jsx)("h2",{className:"product-name-h2",children:u.name}),Object(N.jsx)("p",{children:u.description})]})]}),Object(N.jsxs)("div",{className:"right-section",children:[Object(N.jsxs)("div",{className:"buying-area",children:[Object(N.jsxs)("div",{className:"product-price-area",children:[Object(N.jsx)("label",{htmlFor:"product-price",children:"Valor:"}),Object(N.jsx)("span",{className:"product-price",children:"R$ "+R.toFixed(2)})]}),U?Object(N.jsx)("button",{className:"remove-from-cart-button",onClick:function(e){return L(j.removeItem(t))},children:"Remover do carrinho"}):Object(N.jsx)("button",{className:"add-to-cart-button",onClick:function(e){return L(j.addItem(Object(d.a)({id:t},u)))},children:"Adicionar ao carrinho"})]}),Object(N.jsx)("input",{type:"text",value:k,onChange:function(e){return I(e.target.value)},placeholder:"Cupom de desconto"}),Object(N.jsxs)("div",{className:"seller-area",children:[Object(N.jsx)("div",{className:"seller-area-top-section",children:Object(N.jsx)("img",{src:g.profilePicture,alt:g.name})}),Object(N.jsxs)("div",{className:"seller-area-bottom-section",children:[Object(N.jsx)("span",{className:"seller-name-span",children:g.name+" "+g.surname}),Object(N.jsxs)("div",{className:"seller-total-sales-area",children:[Object(N.jsx)("label",{htmlFor:"total-sales",children:"Total de vendas: "}),Object(N.jsx)("span",{name:"total-sales",children:g.numberOfSales})]}),g.numberOfSales>0?Object(N.jsxs)("div",{className:"seller-rating-area",children:[Object(N.jsx)("label",{htmlFor:"rating",children:"Avalia\xe7\xe3o m\xe9dia: "}),Object(N.jsx)("span",{name:"rating",children:g.averageRating.toFixed(1)})]}):null,g.numberOfSales>0?Object(N.jsx)("div",{className:"seller-would-barter-again-area",children:Object(N.jsx)("span",{className:"seller-would-barter-again-span",children:"".concat(100*g.percentageWouldBarterAgain,"% dos compradores fariam neg\xf3cio novamente")})}):null]}),Object(N.jsx)("button",{className:"talk-to-seller-button",onClick:function(e){return L(j.openChat(u.sellerId,u.sellerName))},children:"Falar com o vendedor"})]})]})]}):null}),H=(n(67),n(68),function(e){var t=Object(r.useState)(e.rating),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(e.wouldBarterAgain),i=Object(f.a)(s,2),o=i[0],u=i[1];return Object(N.jsxs)("div",{className:"rating-area",children:[Object(N.jsx)("div",{className:"interactive-stars",children:[1,2,3,4,5].map((function(t){return Object(N.jsx)("span",{className:a>=t?"interactive-star fa fa-star checked":"interactive-star fa fa-star",onMouseOver:function(){return c(t)},onMouseOut:function(){return c(e.rating)},onClick:function(){return e.update(t,e.wouldBarterAgain)}},t)}))}),Object(N.jsxs)("div",{className:"would-barter-again-section",children:[Object(N.jsx)("label",{htmlFor:"would-barter-again",children:"Faria neg\xf3cios novamente?"}),Object(N.jsxs)("div",{className:"would-barter-again",children:[Object(N.jsx)("button",{className:o?"fa fa-thumbs-up thumbs-up-button selected":"fa fa-thumbs-up thumbs-up-button",onMouseOver:function(){return u(!0)},onMouseOut:function(){return u(e.wouldBarterAgain)},onClick:function(){return e.update(e.rating,!0)}}),Object(N.jsx)("button",{className:o?"fa fa-thumbs-down thumbs-down-button":"fa fa-thumbs-down thumbs-down-button selected",onMouseOver:function(){return u(!1)},onMouseOut:function(){return u(e.wouldBarterAgain)},onClick:function(){return e.update(e.rating,!1)}})]})]})]})}),X=(n(69),function(e){return Object(N.jsxs)("div",{className:"transaction-item",children:[Object(N.jsx)("div",{className:"transaction-item-left-section",children:Object(N.jsx)("img",{src:e.productPicture,alt:e.productName})}),Object(N.jsxs)("div",{className:"transaction-item-right-section",children:[Object(N.jsx)("span",{className:"transaction-item-name",children:e.productName}),Object(N.jsxs)("div",{className:"seller-buyer-name",children:[Object(N.jsx)("label",{htmlFor:"seller-buyer-name",children:e.isBuyer?"Comprado de ":"Vendido para"}),Object(N.jsx)(i.b,{to:"/account/".concat(e.sellerId),className:"seller-name-link",name:"seller-buyer-name",children:"".concat(e.sellerName)})]}),Object(N.jsxs)("div",{className:"transation-item-info",children:[Object(N.jsxs)("div",{className:"left",children:[Object(N.jsxs)("div",{className:"info-row",children:[Object(N.jsx)("label",{children:"Valor pago: "}),Object(N.jsx)("span",{children:"R$ ".concat(e.valuePaid.toFixed(2))})]}),"Finalizada"!==e.status?Object(N.jsxs)("div",{className:"info-row",children:[Object(N.jsx)("label",{children:"Localizar: "}),Object(N.jsx)("span",{children:e.localizationCode})]}):null,Object(N.jsxs)("div",{className:"info-row",children:[Object(N.jsx)("label",{children:"Status: "}),Object(N.jsx)("span",{children:e.status})]})]}),"Finalizada"===e.status&&e.isBuyer?Object(N.jsx)(H,{rating:e.rating,wouldBarterAgain:e.wouldBarterAgain,update:e.update}):null]})]})]})}),K=function(e){return Object(d.a)(Object(d.a)({},e),{},{wouldBarterAgain:void 0!==e.wouldBuyAgain?e.wouldBuyAgain:e.wouldBarterAgain})},Y=function(){var e=new URLSearchParams(Object(o.g)().search),t=null!==e.get("page")&&void 0!==e.get("page")?e.get("page"):"1",n=Object(r.useState)([]),a=Object(f.a)(n,2),c=a[0],s=a[1],i=Object(l.c)((function(e){return e.user.userId}));Object(r.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===i){e.next=9;break}return e.next=3,M.getUserTransactions(i);case 3:return t=e.sent,e.t0=s,e.next=7,Promise.all(t.map(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getProductInfo(t.productId);case 2:return n=e.sent,e.t0=d.a,e.t1=Object(d.a)({},t),e.t2={},e.t3=n.name,e.t4=n.pictures[0],e.next=10,D.getUser(t.sellerId);case 10:return e.t5=e.sent.name,e.t6={productName:e.t3,productPicture:e.t4,sellerName:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var u=function(){var e=Object(m.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.rateProduct(t,n);case 2:return e.next=4,M.answerWouldBuyFromSellerAgain(t,r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"history-main",children:[Object(N.jsx)("h2",{className:"history-title",children:"Hist\xf3rico de Transa\xe7\xf5es"}),Object(N.jsx)("div",{className:"transation-items",children:c.filter((function(e,n){return n>=10*(Number.parseInt(t)-1)&&n<=10*Number.parseInt(t)-1})).map((function(e,t){return Object(N.jsx)(X,Object(d.a)(Object(d.a)({},K(e)),{},{update:u,isBuyer:i===e.buyerId}),t)}))}),c.length>10?Object(N.jsx)($,Object(d.a)({},_({currentPage:t,numberOfPages:Math.ceil(c.length/10),newPageLink:"/history?page="}))):null]})},Z=(n(70),function(){var e=new URLSearchParams(Object(o.g)().search),t=null!==e.get("page")?e.get("page"):"1",n=[{image:"https://i.imgur.com/Np5JaD8.png",content:"\u2022 Notifica\xe7\xe3o do site.",time:"13:20"},{image:"https://i.imgur.com/1T9L1rV.png",content:"\u2022 O seu produto est\xe1 a caminho, acompanhe com o c\xf3digo XSAI-ASXD-ASJD.",time:"10:43"},{image:"https://i.imgur.com/bPxZOaN.png",content:"\u2022 Voc\xea tem uma nova mensagem de Fulano.",time:"08:19"}],r=Object(N.jsxs)("div",{className:"main",children:[Object(N.jsx)("div",{className:"page-title",children:Object(N.jsx)("h1",{children:"Notifica\xe7\xf5es"})}),Object(N.jsx)("div",{className:"notification-list",children:n.filter((function(e,n){return n>=15*(Number.parseInt(t)-1)&&n<=15*Number.parseInt(t)-1})).map((function(e,t){return Object(N.jsxs)("div",{className:"notification",children:[Object(N.jsx)("div",{className:"alert",children:Object(N.jsx)("img",{src:e.image,alt:"Brechonline"})}),Object(N.jsxs)("div",{className:"content",children:[Object(N.jsx)(i.b,{to:"/",children:e.content}),Object(N.jsx)("h1",{children:e.time})]})]},t)}))}),n.length>15?Object(N.jsx)($,Object(d.a)({},_({currentPage:t,numberOfPages:Math.ceil(n.length/15),newPageLink:"/notifications?page="}))):null]});return Object(N.jsx)("div",{className:"notificationpage",children:r})}),Q=(n(71),function(){var e=new URLSearchParams(Object(o.g)().search),t=e.get("search_term"),n=null!==e.get("page")?e.get("page"):"1",a=Object(r.useState)([]),c=Object(f.a)(a,2),s=c[0],i=c[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,v.getProducts(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(N.jsxs)("div",{className:"search-page",children:[Object(N.jsx)("div",{className:"product-grid",children:s.filter((function(e,t){return t>=28*(Number.parseInt(n)-1)&&t<=28*Number.parseInt(n)-1})).map((function(e,t){return Object(r.createElement)(P,Object(d.a)(Object(d.a)({},I(e)),{},{key:t}))}))}),s.length>28?Object(N.jsx)($,Object(d.a)({},_({currentPage:n,newPageLink:"/product/search?search_term=".concat(t,"&page="),numberOfPages:Math.ceil(s.length/28)}))):null]})}),ee=Object(u.b)(Object(u.a)({user:j.userReducer,cart:j.cartReducer,chat:j.chatReducer}));s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(l.a,{store:ee,children:Object(N.jsxs)(i.a,{children:[Object(N.jsx)(W,{}),Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{path:"/product/search",component:Q}),Object(N.jsx)(o.a,{path:"/product/category/:category",component:q}),Object(N.jsx)(o.a,{path:"/product/add",component:w}),Object(N.jsx)(o.a,{path:"/product/:productId",component:z}),Object(N.jsx)(o.a,{path:"/productMockup",component:S}),Object(N.jsx)(o.a,{path:"/shoppingCart",component:E}),Object(N.jsx)(o.a,{path:"/history",component:Y}),Object(N.jsx)(o.a,{path:"/notifications",component:Z}),Object(N.jsx)(o.a,{path:"/",component:C})]}),Object(N.jsx)(G,{})]})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.ec20463f.chunk.js.map